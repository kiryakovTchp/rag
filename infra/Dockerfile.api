FROM python:3.11-slim
WORKDIR /app
COPY pyproject.toml .pre-commit-config.yaml /app/
RUN pip install --no-cache-dir uv && uv pip install --system fastapi uvicorn[standard] pydantic-settings sqlalchemy psycopg[binary] redis python-dotenv pre-commit
COPY api db storage services workers /app/
CMD ["uvicorn","api.main:app","--host","0.0.0.0","--port","8000"]
